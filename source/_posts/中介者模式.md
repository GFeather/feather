---
title: 中介者模式
date: 2018-08-30 14:46:11
tags: [设计模式]
categories: 设计模式
respository: git@github.com:Gfeather/feather.git
branch: master
---

*learning ,  perception design* 

## 中介者模式

#### 定义
创建一个中介者管理一系列对象的交互，使对象不需要显示与其他对象产生交互


#### 实现

{% asset_img mediator.png 一种实现类图%}
[上面类图的链接](https://github.com/iluwatar/java-design-patterns/tree/master/mediator)

上面的类图描述的是多对一的交互，一系列对象与交互对象间具有相同的交互方式，由Party类来管理各个对象的动作。

```
//书里的代码描述的是多个不同对象之间的交互，即存在多个对象的相互调用
//成员类的抽象类
public abstract class Colleague{
	protected Mediator mediator;
	public Colleague(Mediator mediator){
		this.mediator = mediator
	}
}
public class Tank extends Colleague{
	public Tank(Mediator mediator){
		super(mediator);
	}
	public void buy(){
		super.mediator.action(this);
	}
}
public class Businessman extends Colleague{
	public Businessman(Mediator mediator){
		super(mediator);
	}
	public void sell(){
		System.out.println("sell defenced");
	}
}

//中介者
public class Mediator{
	public void action(Tank tank){
		new Businessman(this).sell();
	}
}
//这里将书中的代码简化，并做了更改，但同样都是使用中介者处理对象间的交互调用。
```

#### 应用

> 优点：中介者可以将多对多，多对一的复杂的依赖关系整理成星型网络，在功能拓展中可以在中介中集中修改
> 缺点：当对象间调用逻辑过于复杂，中介者就会变得很复杂

#### End
上面的两个例子分别说明的是，一对多（图）和多个对象相互依赖的场景。
通过对比，很明显图中的场景和设计更加精巧，将类间一系列对象的交互都交由中介者。
在多个对象的相互依赖场景下，中介者很容易发生内容爆炸的风险，需要注意。
非常流行的MVC模式就使用了中介者模式，M和V之间的交互都有控制器来处理

*参考《设计模式之禅》*
[参考链接](https://github.com/iluwatar/java-design-patterns/tree/master/mediator)
