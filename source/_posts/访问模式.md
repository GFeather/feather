---
title: 访问模式
date: 2018-09-10 20:14:43
tags: [设计模式]
categories: 设计模式
respository: git@github.com:Gfeather/feather.git
branch: master
---

*learning ,  perception design* 

## 访问模式

#### 定义

封装一些作用于某种数据结构的各元素的操作，使不改变数据结构的前提下定义作用于这些元素的新的操作

#### 实现

```
//数据对象
interface Bean{

	public void do();
	public void accept(IVisitor visitor);

}

public calss BeanA implements Bean{

	public void do(){}
	public void accept(IVisitor visitor){
		visitor.visit(this);
	}

}

public calss BeanB implements Bean{

	public void do(){}
	public void accept(IVisitor visitor){
		visitor.visit(this);
	}

}
//访问者
interface IVistor {

	public void visit(BeanA bean);
	public void visit(BeanB bean);

}

class Vistor implements IVistor{

	public void visit(BeanA bean){//对A的处理}
	public void visit(BeanB bean){//对B的处理}

}
//通过定义一个访问者对Bean的子类对象定制数据处理操作
```

#### 应用

访问者模式可以在遍历Bean的子类对象时，对不同类做不同的数据操作，拓展只需要增加方法
但是每次对象数据结构改变，都需要修改访问者

#### End

访问者模式将对不同数据结构的处理封装，这样在遍历时就可以对不同对象做不同处理。

*参考《设计模式之禅》*