---
title: 观察者模式
date: 2018-09-10 15:59:35
tags: [设计模式]
categories: 设计模式
respository: git@github.com:Gfeather/feather.git
branch: master
---

*learning ,  perception design* 

## 观察者模式

#### 定义

定义一种一对多的依赖关系，使对象状态改变时，依赖于它的对象都得到通知。

#### 实现

```
//Observer
interface Observer{
	//接收通知后的行动
	void update();
}
//Observerable
interface Observerable{
	//add
	void addObserver(Observer observer);
	//delete
	void deleteObserver(Observer observer);
	//通知所有观察者
	void notify();
}
//观察者模式的核心就是这两个接口，
//被观察者实现了Observerable接口就具有了被观察的能力，其实是通知观察者的能力。
//观察者实现了Observer接口，就可以被通知。
```

#### 应用

观察者模式使被观察者具有通知的能力，这个能力可以理解为触发、事件，那么就能够实现发布/订阅、触发操作、关联。
但是触发器链条过长，观察者过多维护会变复杂

#### End

在触发链条过程中，传递的消息不同于责任链是同一个消息，而是会被多个观察者改变。同时也存在观察者响应的性能问题，异步的观察者可能更符合这个模式的思想。观察者模式中主动的一方应该是被观察者，因为由它主动通知观察者，所以被观察者做更多的操控。

*参考《设计模式之禅》*
