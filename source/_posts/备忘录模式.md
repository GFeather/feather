---
title: 备忘录模式
date: 2018-09-10 17:16:18
tags: [设计模式]
categories: 设计模式
respository: git@github.com:Gfeather/feather.git
branch: master
---

*learning ,  perception design* 

## 备忘录模式

#### 定义

在不破坏封装的情况下，捕获一个对象的内部状态，并在该对象之外保存这个状态，用来复原状态

#### 实现

```
//具有状态的类
class Man{

	private String state = "";
	private Mem mem;

	public String getState(){return state;}
	public void setState(String state){ this.state = state;}

	public Mem createMem(){
		return new Mem(this.state);
	}
	public void restore(Mem mem){
		this.state = mem.getState();
	}

}
//备忘录
class Mem{

	private String state = "";

	public Mem(String state){this.state = state;}

	public String getState(){return state;}
	public void setState(String state){ this.state = state;}

}
//备忘录管理
class Creaker{

	private Mem mem;

	poublic Creaker(Mem state){this.state = state;} 

	public String getMem(){return state.getState;}
	public void setMem(Mem state){ this.state = state;}

}
//client
public static void main(String[] args){

	Man man = new Man();
	man.setState("-_-");
	Creaker creaker = new Creaker(man.createteMem());
	man.setState("^_^");
	man.restore(creaker.getMem());

}
//创建备忘录对象保存状态，在需要回溯的时候回溯到备忘录内保存的状态
```

#### 应用

可以具有回溯的能力就像`Ctrl + Z`
但是它应该很轻量，备份类是一个普通Bean

#### End

备份的状态、时间点可以有多个，通过拓展备份类和管理类的容器



*参考《设计模式之禅》*