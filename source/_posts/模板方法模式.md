---
title: 模板方法模式
date: 2018-08-27 16:01:11
tags: [设计模式]
categories: 设计模式
respository: git@github.com:Gfeather/feather.git
branch: master
---
*learning ,  perception design* 

## 模板方法模式

#### 定义
由父类定义一个操作的算法框架，子类实现具体的组件方法

#### 实现

```
public abstract class Sea{
	void first();
	void second();
	void third();
	public void function(){
		first();
		second;
		third;
	}
}
public class SubSea extends Sea{
	public void first(){System.out.println("first");}
	public void second(){System.out.println("first");}
	public void third(){System.out.println("first");}
}
//父类定义了算法的具体步骤，子类来实现每个步骤所做操作
```

```
public abstract class Sea{
	private flag = true;
	void first();
	void second();
	void third();
	public void function(){
		first();
		if (isWork())
			second;
		third;
	}
	protected boolean isWork(){return flag;}
	protected void setWork(boolean flag){this.flag = flag;}

}
public class SubSea extends Sea{
	public void first(){System.out.println("first");}
	public void second(){System.out.println("first");}
	public void third(){System.out.println("first");}
}
//使用了钩子方法，来控制某一步是否执行
```

#### 应用
> 优点：抽象类将子类公共逻辑封装在模板方法中，便于修改和扩展，子类可以控制具体实现
> 缺点：子类影响了父类的结果

#### End
模板方法可以将多个拥有相同算法框架的子类抽象，由子类实现具体细节。也可以将复杂算法封装，由子类实现周边细节，比如java中多个集合的可指定比较器的sort()方法，就利用函数式接口实现由外部定义排序规则。例子2里的钩子方法可以用来控制某些具体行为。

*参考《设计模式之禅》*